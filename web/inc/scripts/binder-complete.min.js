/*
 Module: xport
 Author: Darren Schnare
 Keywords: javascript,export
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/project-template
*/
(function(){function h(a,b,c){a=a?a.toString():"";c||(c="object"!==typeof window?{}:window);var a=a.split("."),e=a.length,d=c,g,f;for(g=0;g<e-1;g+=1)f=a[g],void 0===d[f]&&(d[f]={}),d=d[f];f=a[e-1];d[f]=b;return c}h("module",function(a,b,c){var e,d;"[object Array]"!=={}.constructor.prototype.toString.call(a)&&(c=b,b=a,a=[],"function"!==typeof b&&(b=function(a){return function(){return a}}(b)));if("function"===typeof define&&"object"===typeof define.a&&define.a)0===a.length?define(b):define(a,b);else if("object"===
typeof exports&&exports&&"function"===typeof require){if(0===a.length)a=b();else{c=[];for(e=a.length;0<e;)e-=1,c.unshift(require(a[e]));a=b.apply(void 0,c)}if(a)for(d in a)a.hasOwnProperty(d)&&(exports[d]=a[d])}else"function"===typeof c&&c()},h);h("xport",h)})();

/*
 Author: Darren Schnare
 Keywords: javascript,util,utility,format
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/utiljs
*/
(function(m){function k(a){return void 0===a||null===a?"":a.toString()}function g(a){return a&&"object"===d(a)}function d(a){return null===a?"null":h(a)?"array":typeof a}function l(a){return null===a||void 0===a}var o={}.constructor,h=function(){var a=o.prototype.toString;return function(b){return"[object Array]"===a.call(b)||!l(b)&&"number"===typeof b.length&&"function"===typeof b.push}}(),n={typeOf:d,isObject:g,isArray:h,isNil:l,mixin:function(a){var b=arguments.length,c,e,d;if(!a)throw Error("Expected at least one object as an argument.");
for(c=1;c<b;c+=1)if(d=arguments[c],!l(d))for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);return a},str:k,respondsTo:function(a,b){return a&&"function"===typeof a[b]},adheresTo:function(a,b){var c,e;if((g(a)||"function"===typeof a||h(a))&&(g(b)||"function"===typeof b||h(b))){for(c in b)if(b.hasOwnProperty(c))if("*"===b[c]){if(void 0===a[c])return!1}else if(d(a[c])!==d(b[c])&&d(a[c])!==k(b[c]))return!1;return!0}c=d(a);e=d(b);return c===e},create:function(a){function b(){}if(!a)throw Error("Expected an object as an argument.");
b.prototype=a;return new b},trim:function(a){for(var a=a?a.toString():"",b=0,c=a.charAt(b);c;){if(" "<c){a=a.substring(b);break}b+=1;c=a.charAt(b)}for(b=a.length;b;)if(b-=1,c=a.charAt(b)," "<c){a=a.substring(0,b+1);break}return a},format:function(a){function b(){j-=1;return i=c.charAt(j)}for(var c=k(a),d=arguments,h=d.length,j=c.length,i=null,f=0,g=0;b();)if("}"===i){g=j+1;b();for(f="";"0"<=i&&"9">=i;)f=i+f,b();"{"===i&&(f=parseInt(f,10)+1,f<h&&(c=c.substring(0,j)+d[f]+c.substring(g)))}return c}};
m.module(n,function(){m("UTIL",n)})})("function"===typeof xport?xport:null);

/*
 Author: Darren Schnare
 Keywords: javascript,binding,bind,property,list,observer,observable
 License: MIT ( http://www.opensource.org/licenses/mit-license.php )
 Repo: https://github.com/dschnare/binderjs
*/
function m(w){throw w;}var r=void 0,v=!0,x=null,A=!1;
(function(){function w(n){function o(i,k,h){function g(e){return e}var f=n.isArray,b=n.isObject,d=n.adheresTo,c=y.interfce,a={},C,z,p,l,j,q,e,s,t,k=k||a;"function"===typeof k?l=k:(l=k.filter,l="function"===typeof l?l:g);if(f(i)){t=u();c=i.length;for(b=0;b<c;b+=1)t.push(o(i[b],k));h&&(d(h,u.interfce)?h.merge(t):f(h)?h.push.apply(h,t):m(Error("Expected target to be an Array.")))}else if(b(i)){t={};C=u(k.include||[]);z=u(k.exclude||[]);p=u(k.copy||[]);for(e in i)if(i[e]!==r&&"function"!==typeof i[e]&&
(q=k.properties?k.properties[e]:a,s=i[e],j=q?q.create:g,j="function"===typeof j?j:g,s!==r&&(C.contains(e)||!z.contains(e))))if(p.contains(e))if(h)if(d(h[e],c))h[e](o(s,q));else h[e]=o(s,q);else t[e]=o(s,q);else if(f(s))if(h)if(d(h[e],c))h[e](o(s,q));else f(h[e])?o(s,q,h[e]):(j=y(j(o(s,q),h)),h[e]=j,j.owner=h);else j=y(j(o(s,q),t)),j.owner=t,t[e]=j;else if(b(s))if(h)if(d(h[e],c))h[e](o(s,q));else h[e]=o(s,q);else t[e]=o(s,q);else if(h)if(d(h[e],c))h[e](o(s,q));else j=y(j(o(s,q),h)),h[e]=j,j.owner=
h;else j=y(j(o(s,q),t)),j.owner=t,t[e]=j;t=l(t,i)}else t=l(i,i);return h||t}function w(i,k){function h(a){return a}var g,f,b,d,c;f={};d=n.isObject;b=n.isArray;var a=n.adheresTo,C=y.interfce,z,p,l,k=k||f;"function"===typeof k?l=k:(l=k.filter,l="function"===typeof l?l:h);if(b(i)){d=[];f=i.length;for(g=0;g<f;g+=1)d.push(w(i[g],k))}else if(d(i)){d={};z=u(k.include||[]);p=u(k.exclude||[]);for(g in i)if(i[g]!==r&&(z.contains(g)||!p.contains(g)))b=i[g],c=k.properties?k.properties[g]:f,d[g]=a(b,C)?w(b.get(),
c):w(b,c);d=l(d,i)}else d=l(i,i);return d}var D=[].constructor,u=function(){function i(g){var f=[];f.getItemOperators=function(){return n.create(h)};f.indexOf=f.indexOf||function(b,d){var c,a=this.length,d=isNaN(d)?0:d;if(0===a||d>=a)return-1;0>d&&(d=a+d);0>d&&(d=0);for(c=d;c<a;c+=1)if(this[c]===b)return c;return-1};f.lastIndexOf=f.lastIndexOf||function(b,d){var c;c=this.length;if(0===c)return-1;d=isNaN(d)?c:d;0<=d&&(d=d<c-1?d:c-1);0>d&&(d=c+d);for(c=d;0<=c;c-=1)if(this[c]===b)return c;return-1};
f.reverse=f.reverse||function(){for(var b=0,d=this.length,c=d-1,d=parseInt((d/2).toFixed(0),10),a;b<d;)a=this[c],this[c]=this[b],this[b]=a,c-=1,b+=1;return this};f.map=f.map||function(b,d){var c=0,a=this.length,g=[];g.length=a;"function"!==typeof b&&m(Error("TypeError"));for(c=0;c<a;c+=1)this.hasOwnProperty(c)&&(g[c]=b.call(d,this[c],c,this));return g};f.filter=f.filter||function(b,d){var c,a,g=this.length,f=[];"function"!==typeof b&&m(Error("TypeError"));for(c=0;c<g;c+=1)this.hasOwnProperty(c)&&
(a=this[c],b.call(d,a,c,this)&&f.push(a));return f};f.forEach=f.forEach||function(b,d){var c,a=this.length;"function"!==typeof b&&m(Error("TypeError"));for(c=0;c<a;c+=1)this.hasOwnProperty(c)&&b.call(d,this[c],c,this)};f.reduce=f.reduce||function(b,d){var c=this.length,a=0,g,f;"function"!==typeof b&&m(Error("TypeError"));0===c&&1===arguments.length&&m(Error("TypeError"));if(2===arguments.length)g=d;else{f=A;for(a=0;!f&&a<c;)(f=this.hasOwnProperty(a))&&(g=this[a]),a+=1}for(;a<c;)(f=this.hasOwnProperty(a))&&
(g=b.call(r,g,this[a],a,this)),a+=1;return g};f.reduceRight=f.reduceRight||function(b,d){var c=this.length,a=c-1,g;"function"!==typeof b&&m(Error("TypeError"));0===c&&1===arguments.length&&m(Error("TypeError"));if(2===arguments.length)g=d;else for(c=A;!c&&0<=a;)(c=this.hasOwnProperty(a))&&(g=this[a]),a-=1;for(;0<=a;)(c=this.hasOwnProperty(a))&&(g=b.call(r,g,this[a],a,this)),a-=1;return g};f.some=f.some||function(b,d){var c=this.length,a;"function"!==typeof b&&m(Error("TypeError"));for(a=0;a<c;a+=
1)if(this.hasOwnProperty(a)&&b.call(d,this[a],a,this))return v;return A};f.every=f.every||function(b,d){var c=this.length,a;"function"!==typeof b&&m(Error("TypeError"));for(a=0;a<c;a+=1)if(this.hasOwnProperty(a)&&!b.call(d,this[a],a,this))return A;return v};f.contains=function(b){return 0<=this.indexOf(b)};f.occurances=function(b){for(var d=this.indexOf(b),c=0;0<=d;)c+=1,d=this.indexOf(b,d+1);return c};f.distinct=function(){for(var b=this.length,d=[],c;b;)b-=1,c=this[b],1===this.occurances(c)&&d.unshift(c);
return d};f.first=function(b,d){var c,a=this.length;"function"!==typeof b&&m(Error("TypeError"));for(c=0;c<a;c+=1)if(this.hasOwnProperty(c)&&b.call(d,this[c],c,this))return this[c]};f.last=function(b,d){var c=this.length;for("function"!==typeof b&&m(Error("TypeError"));c;)if(c-=1,this.hasOwnProperty(c)&&b.call(d,this[c],c,this))return this[c]};f.find=function(b,d,c){var a=this.length;"function"!==typeof b&&m(Error("TypeError"));"number"!==typeof d&&!c&&(c=d);if(isNaN(d)||0>d)d=0;for(;d<a;d+=1)if(this.hasOwnProperty(d)&&
b.call(c,this[d],d,this))return{item:this[d],index:d};return{item:r,index:-1}};f.equals=function(b,d){var c,a,g,f;if(!n.isArray(b))return A;if(this===b)return v;if(this.length!==b.length)return A;a=this.length;g=b.length;f=i.getItemOperators(this);d="function"===typeof d?d:function(){return f.equals.apply(f,arguments)};for(c=0;c<a&&c<g;c+=1)if(!d(this[c],b[c]))return A;return v};f.changed=function(b,d,c){var a,g,f,h;if(!n.isArray(b)||this===b)return A;if(this.length!==b.length)return v;h=i.getItemOperators(this);
d="function"===typeof d?d:function(){return h.equals.apply(h,arguments)};c="function"===typeof c?c:function(){return h.changed.apply(h,arguments)};g=this.length;f=b.length;for(a=0;a<g&&a<f;a+=1)if(!d(this[a],b[a])||c(this[a],b[a]))return v;return A};f.compare=function(b,d,c){var a,g=i(),f,h,l,j=this.find,q,e,b=i(b);a=i.getItemOperators(this);d="function"===typeof d?d:function(){return a.equals.apply(a,arguments)};c="function"===typeof c?c:function(){return a.changed.apply(a,arguments)};q=function(e){return d(l,
e)};h=this.length;for(f=0;f<h;f+=1)l=this[f],e=j.call(b,q),0>e.index?g.push(k("deleted",l,f)):(c(l,e.item)?g.push(k("changed",l,f,e.item,e.index)):g.push(k("retained",l,f,e.item,e.index)),delete b[e.index]);h=b.length;for(f=0;f<h;f+=1)b.hasOwnProperty(f)&&(l=b[f],0>this.find(q).index&&g.push(k("added",r,-1,l,f)));l=b=d=c=x;return g};f.merge=function(b,d,c){var a=i(this);a.mergeWith(b,d,c);return a};f.mergeWith=function(b,d,c){var a;i.getItemOperators(this);b=this.compare(b,d,c);c=b.length;for(d=0;d<
c;d+=1)switch(a=b[d],a.status){case "added":this[a.otherIndex]===r?this[a.otherIndex]=a.otherItem:this.splice(a.otherIndex,0,a.otherItem);break;case "deleted":this[a.index]=r;break;case "changed":a.index!==a.otherIndex?this[a.otherIndex]===r?(this[a.index]=r,this[a.otherIndex]=a.otherItem):(this.splice(a.index,1),this.splice(a.otherIndex,0,a.item)):this[a.index]=a.otherItem;break;case "retained":a.index!==a.otherIndex?this[a.otherIndex]===r?(this[a.index]=r,this[a.otherIndex]=a.otherItem):(this.splice(a.index,
1),this.splice(a.otherIndex,0,a.item)):this[a.index]=a.otherItem}this.collapse()};f.remove=function(){var b,d,c,a=arguments.length;for(b=0;b<a;b+=1){c=arguments[b];for(d=this.length;d;)d-=1,this[d]===c&&this.splice(d,1)}};f.removeAt=function(b){if(isFinite(b)&&0<=b&&b<this.length)return this.splice(b,1).pop()};f.clear=function(){for(;this.length;)this.pop()};f.collapse=function(){for(var b=this.length;b;)b-=1,this[b]===r&&this.splice(b,1)};f.replaceAt=function(b,d){var c;isFinite(b)&&0<=b&&b<this.length&&
(c=this[b],this[b]=d);return c};f.isEmpty=function(){return 0===this.length};f.peek=function(){return this[this.length-1]};f.insert=function(b,d){b>this.length?b=this.length:0>b&&(b=0);return isFinite(parseInt(b,10))?(b===this.length?this.push(d):this.hasOwnProperty(b)?this.splice(b,0,d):this[b]=d,b):A};(function(b){var d=b.length;1===d&&n.isArray(g)?f.push.apply(f,g):d&&f.push.apply(f,f.slice.call(b))})(arguments);return f}function k(g,f,b,d,c){return{status:g,item:f,value:f,index:b,otherItem:d,
otherIndex:c,toString:function(){return n.format("{status: {0}, item: {1}, index: {2}, otherItem: {3}, otherIndex: {4}}",g,f,b,d,c)}}}var h={equals:function(g,f){g=g?g.valueOf():g;f=f?f.valueOf():f;return g===f},changed:function(g,f){g=g?g.valueOf():g;f=f?f.valueOf():f;return g!==f}};i.getItemOperators=function(g){g=g.getItemOperators();"function"!==typeof g.equals&&(g.equals=h.equals);"function"!==typeof g.changed&&(g.changed=h.changed);return g};i.interfce={concat:"function",indexOf:"function",
join:"function",lastIndexOf:"function",map:"function",filter:"function",forEach:"function",reduce:"function",reduceRight:"function",reverse:"function",some:"function",shift:"function",slice:"function",sort:"function",splice:"function",every:"function",pop:"function",push:"function",unshift:"function",toString:"function",contains:"function",occurances:"function",distinct:"function",first:"function",last:"function",find:"function",equals:"function",changed:"function",compare:"function",merge:"function",
mergeWith:"function",remove:"function",removeAt:"function",clear:"function",collapse:"function",replaceAt:"function",isEmpty:"function",peek:"function",insert:"function"};return i}(),B=function(){function i(){var g=u(),f=0,b=A,d=[],c=-1;return{block:function(){d.push(v)},unblock:function(){d.pop()},subscribe:function(a,b){return a&&!g.contains(a)?(a.thisObj=b||r,g.push(a),{dispose:function(){g.remove(a)}}):{dispose:function(){}}},throttle:function(a){isFinite(a)||(a=0);f=a},notify:function(){var a=
this,i=h.call(arguments);!d.length&&!b&&(b=v,0<f?c=setTimeout(function(){k(a,g,i);b=A},f):(k(a,g,i),b=A))},dispose:function(){g.clear();clearTimeout(c)}}}function k(g,f,b){var d,c=f.length,b=b.slice();b.unshift(g);for(g=0;g<c;g+=1)(d=f[g])&&("function"===typeof d?d.apply(d.thisObj,b):"function"===typeof d.onNotify&&d.onNotify.apply(d,b))}var h=D.prototype.slice;i.interfce={block:"function",unblock:"function",subscribe:"function",throttle:"function",notify:"function",dispose:"function"};return i}(),
E=function(){function i(){function i(){for(var a;o.length;)a=o.pop(),a.subscription&&"function"===typeof a.subscription.dispose&&a.subscription.dispose(),a.item=x,a.subscription=x}function h(){var a=c.call(arguments),d=a.length,g=n.isArray,e,f;for(f=0;z&&f<d;f+=1)e=a[f],g(e)?h.apply(r,e):"function"===typeof e.subscribe&&(b.item=e,e=o.first(b),e!==r&&(o.remove(e),e.subscription&&"function"===typeof e.subscription.dispose&&e.subscription.dispose()));b.item=x}function g(){var a=c.call(arguments),b=a.length,
d=n.isArray,e,h;for(h=0;z&&h<b;h+=1)e=a[h],d(e)?g.apply(r,e):"function"===typeof e.subscribe&&o.push({item:e,subscription:e.subscribe(f)})}function f(b){var d=a.indexOf(b);0<=d&&p.b(d,b)}function b(a){var d=b.item;if(d!==x&&d!==r)return a.item===d}function d(a,d,b,e,c){d=parseInt(d,10);e=parseInt(e,10);return{action:a,newStartingIndex:isFinite(d)?d:-1,newItems:n.isArray(b)?b:b===x||b===r?[]:[b],oldStartingIndex:isFinite(e)?e:-1,oldItems:n.isArray(c)?c:c===x||c===r?[]:[c]}}var c=[].slice,a=u.apply(r,
c.call(arguments)),o=u(),z=A,p={add:function(b,c){a.notify(d("add",b,c))},remove:function(b,c){a.notify(d("remove",x,x,b,c))},replace:function(b,c,g,e){a.notify(d("replace",b,c,g,e))},move:function(b,c,g,e){a.notify(d("move",b,c,g,e))},reset:function(){a.notify(d("reset"))},b:function(b,c){a.notify(d("change",b,c,b,c))}};n.mixin(a,B());a.observeItems=function(a){arguments.length&&a!==z&&(i(),z=a,g(this));return z};a.replaceAt=function(a){return function(b,c){var e;0<=b&&b<this.length&&(this.block(),
e=a.call(this,b,c),h(e),g(c),this.unblock(),p.replace(b,c,b,e));return e}}(a.replaceAt);a.clear=function(a){return function(){var b=this.length;this.block();a.call(this);this.unblock();b!==this.length&&(i(),p.reset())}}(a.clear);a.collapse=function(a){return function(){var b=this.length;this.block();a.call(this);this.unblock();b!==this.length&&p.reset()}}(a.collapse);a.insert=function(a){return function(b,c){this.block();var e=a.call(this,b,c);this.unblock();e!==A&&(p.add(e,c),g(c));return e}}(a.insert);
a.mergeWith=function(){return function(a,b,c){var e,f=[];this.block();u.getItemOperators(this);a=this.compare(a,b,c);c=a.length;for(b=0;b<c;b+=1)switch(e=a[b],e.status){case "added":g(e.otherItem);f.push(d("add",e.otherIndex,e.otherItem));this[e.otherIndex]===r?this[e.otherIndex]=e.otherItem:this.splice(e.otherIndex,0,e.otherItem);break;case "deleted":h(this[e.index]);f.push(d("remove",x,x,e.index,e.item));this[e.index]=r;break;case "changed":h(e.item);g(e.otherItem);e.index!==e.otherIndex?(f.push(d("move",
e.otherIndex,e.otherItem,e.index,e.item)),this[e.otherIndex]===r?(this[e.index]=r,this[e.otherIndex]=e.otherItem):(this.splice(e.index,1),this.splice(e.otherIndex,0,e.item))):(f.push(d("replace",e.index,e.otherItem,e.index,e.item)),this[e.index]=e.otherItem);break;case "retained":h(e.item),g(e.otherItem),e.index!==e.otherIndex?(f.push(d("move",e.otherIndex,e.otherItem,e.index,e.item)),this[e.otherIndex]===r?(this[e.index]=r,this[e.otherIndex]=e.otherItem):(this.splice(e.index,1),this.splice(e.otherIndex,
0,e.item))):this[e.index]=e.otherItem}this.collapse();for(this.unblock();f.length;)this.notify(f.shift())}}(a.mergeWith);a.reverse=function(a){return function(){this.block();a.call(this);this.unblock();p.reset();return this}}(a.reverse);a.pop=function(a){return function(){var b=this.length,c;this.block();c=a.call(this);this.unblock();b!==this.length&&(h(c),p.remove(b-1,c));return c}}(a.pop);a.push=function(a){return function(){var b=this.length,d=c.call(arguments),e;this.block();e=a.apply(this,d);
this.unblock();b!==e&&(g(d),p.add(b,d));return e}}(a.push);a.shift=function(a){return function(){var b=this.length,c;this.block();c=a.call(this);this.unblock();b!==this.length&&(h(c),p.remove(0,c));return c}}(a.shift);a.unshift=function(a){return function(){var b=this.length,d=c.call(arguments),e;this.block();e=a.apply(this,d);this.unblock();b!==this.length&&(g(d),p.add(0,d));return e}}(a.unshift);a.sort=function(a){return function(){a.apply(this,c.call(arguments));p.reset();return this}}(a.sort);
a.splice=function(a){return function(){var b=this.length,d=c.call(arguments),e=d.shift(),f;d.shift();e=parseInt(e,10);e=isFinite(e)?e:0;0>e?e=0:e>this.length&&(e=this.length);this.block();f=a.apply(this,c.call(arguments));this.unblock();b!==this.length&&(0===d.length&&0!==f.length?(h(f),p.remove(e,f)):0!==d.length&&0===f.length?(g(d),p.add(e,d)):(h(f),g(d),p.replace(e,d,e,f)));return f}}(a.splice);return a}i.interfce=n.mixin({},B.interfce,u.interfce);return i}(),y=function(){var i,k,h=u();h.c=function(g){this.push(g)};
h.a=function(g){this.length&&this.peek().dependencies().add(g)};i=function(g,f,b){function d(){var a=D.prototype.slice.call(arguments,1);l=r;j.notify.apply(j,a)}var c=A,a=u(),i=[],o,p,l,j;a.add=function(a){this.contains(a)||(this.push(a),i.push(a.subscribe(d)))};j=function(a){var b,c=j.owner;this!==r&&(j.owner=this);arguments.length?(j.set(a),b=this):b=j.get();j.owner=c;return b};j.equals=function(a){var b=this.get(),a=k(a),b=b?b.valueOf():b,a=a?a.valueOf():a;return b===a};j.changed=function(a){var b=
this.get(),a=k(a),b=b?b.valueOf():b,a=a?a.valueOf():a;return b!==a};j.clearMemo=function(){l=r};j.get=function(){c||(h.a(this),h.c(this));var a=l===r?p.call(this.owner):l;l=a;h[h.length-1]===this&&h.pop();return a};j.set=function(a){if("function"===typeof o){c=v;if(!this.equals(a)||this.changed(a))this.block(),o.call(this.owner,a),l=r,this.unblock(),this.notify();c=A}};j.dependencies=function(){return a};j.isDependent=function(){return 0!==a.length};j.toString=function(){return n.str(this.get())};
j.valueOf=function(){var a=this.get();return n.isNil(a)?a:a.valueOf()};n.mixin(j,B());(function(){var c,e=j,h=A,l=n.isObject,w=n.isArray,y=n.adheresTo;e.owner=r;"function"===typeof g?(p=g,o="function"===typeof f?f:x,e.owner="function"===typeof f?b:f):l(g)&&"function"===typeof g.get?(h=g.lazy,p=g.get,o="function"===typeof g.set?g.set:x,e.equals="function"===typeof g.equals?g.equals:e.equals,e.changed="function"===typeof g.changed?g.changed:e.changed,e.owner=g.owner):(l(g)?(e.equals="function"===typeof g.equals?
g.equals:e.equals,e.changed="function"===typeof g.changed?g.changed:e.changed,c=g.value):c=g,w(c)&&!y(c,B.interfce)&&(c=E(c),c.getItemOperators=function(a,b,c){a=typeof a==="function"?a:c.equals;b=typeof b==="function"?b:c.changed;return function(){return{equals:a,changed:b}}}(g.equals,g.changed,c.getItemOperators()),e.equals=function(a){a=k(a);return c.equals(a)},e.changed=function(a){a=k(a);return c.changed(a)}),c&&"function"===typeof c.subscribe&&i.push(c.subscribe(d)),p=function(){return c},o=
function(a){if(y(c,u.interfce)){c.clear();w(a)?c.push.apply(c,a):c.push(a)}else if(w(c)){for(;c.length;)c.pop();w(a)?c.push.apply(c,a):c.push(a)}else c!==a&&(c=a)});e.dispose=function(b){return function(){for(;i.length;)i.pop().dispose();for(;a.length;)a.pop();b.call(this)}}(e.dispose);h||j.get()})();return j};k=function(g){return g&&"function"===typeof g.get?g.get():g};i.get=k;i.interfce=n.mixin({dependencies:"function",isDependent:"function",clearMemo:"function",get:"function",set:"function",equals:"function",
changed:"function"},B.interfce);return i}();return{makeList:u,makeObservable:B,makeObservableList:E,makeProperty:y,makeBinding:function(){function i(i,h,g){var f=y.interfce,b=[],g=g||"twoway",g=n.str(g),g=g.toLowerCase();n.adheresTo(i,f)||m(Error("Binding source must be an observable property. "+i));n.adheresTo(h,f)||m(Error("Binding sink must be an observable property. "+h));h.set(i.get());switch(g){case "oneway":f=i.subscribe(function(){h.set(i.get())});b.push(f);break;case "twoway":f=i.subscribe(function(){h.set(i.get())}),
b.push(f),f=h.subscribe(function(){i.set(h.get())}),b.push(f)}f=x;return{type:function(){return g},source:function(){return i},sink:function(){return h},dispose:function(){for(;b.length;)b.pop().dispose()}}}i.interfce={type:"function",source:"function",sink:"function",dispose:"function"};return i}(),toJSON:w,fromJSON:o}}xport.module(["utiljs"],w,function(){xport("BINDER",w(UTIL))})})();
